specVersion: 0.0.4
features:
    - ipfsOnEthereumContracts
schema:
    file: ./schema.graphql
dataSources:
    - kind: ethereum/contract
      name: BufferBinaryOptions
      network: chapel
      source:
          abi: BufferBinaryOptions
          startBlock: 28121073
      mapping:
          kind: ethereum/events
          apiVersion: 0.0.6
          language: wasm/assemblyscript
          entities:
              - UserOptionData
          abis:
              - name: BufferBinaryOptions
                file: ./abis/BufferBinaryOptions.json
              - name: BinaryPool
                file: ./abis/BinaryPool.json
              - name: BufferRouter
                file: ./abis/BufferRouter.json
          eventHandlers:
              - event: Create(indexed address,indexed uint256,uint256,uint256)
                handler: handleCreate
              - event: Expire(indexed uint256,uint256,uint256)
                handler: handleExpire
              - event: Exercise(indexed address,indexed uint256,uint256,uint256)
                handler: handleExercise
              - event: UpdateReferral(address,address,bool,uint256,uint256,uint256,string)
                handler: handleUpdateReferral
              # - event: Pause(bool)
              #   handler: handlePause
          file: ./src/mapping.ts
    - kind: ethereum/contract
      name: BufferRouter
      network: chapel
      source:
          address: "0x0452fb3d229132f7B8b9D815D993B227304c053e"
          abi: BufferRouter
          startBlock: 28121073
      mapping:
          kind: ethereum/events
          apiVersion: 0.0.6
          language: wasm/assemblyscript
          entities:
              - UserOptionData
          abis:
              - name: BufferBinaryOptions
                file: ./abis/BufferBinaryOptions.json
              - name: BufferRouter
                file: ./abis/BufferRouter.json
          eventHandlers:
              - event: InitiateTrade(indexed address,uint256,uint256)
                handler: handleInitiateTrade
              - event: CancelTrade(indexed address,uint256,string)
                handler: handleCancelTrade
              - event: OpenTrade(indexed address,uint256,uint256)
                handler: handleOpenTrade
          file: ./src/mapping.ts
    - kind: ethereum/contract
      name: BinaryPool
      network: chapel
      source:
          address: "0x2Cb75c66927B3C1C81004e12B4473FA84a77dFd9"
          abi: BinaryPool
          startBlock: 28121073
      mapping:
          kind: ethereum/events
          apiVersion: 0.0.6
          language: wasm/assemblyscript
          entities:
              - UserOptionData
          abis:
              - name: BinaryPool
                file: ./abis/BinaryPool.json
              - name: USDC
                file: ./abis/USDC.json
          eventHandlers:
              - event: Provide(indexed address,uint256,uint256)
                handler: handleProvide
              - event: Withdraw(indexed address,uint256,uint256)
                handler: handleWithdraw
              - event: Profit(indexed uint256,uint256)
                handler: handleProvide
              - event: Loss(indexed uint256,uint256)
                handler: handleWithdraw
          file: ./src/mapping.ts
    - kind: ethereum/contract
      name: USDC
      network: chapel
      source:
          address: "0xE6E70757d8AA5A9Ef07673fF3e53EfdD56B8ac30"
          abi: USDC
          startBlock: 28121073
      mapping:
          kind: ethereum/events
          apiVersion: 0.0.6
          language: wasm/assemblyscript
          abis:
              - name: USDC
                file: ./abis/USDC.json
          entities:
              - UserOptionData
          eventHandlers:
              - event: Unpause()
                handler: handleProvide
          file: ./src/mapping.ts